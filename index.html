<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Rotating Box Circle</title>

    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      :root {
        --distanceInBetween: 20px;
        --animationDuration: 3s;
        --boxRotateAxisX: 0deg;
        --boxRotateAxisY: 65deg;
      }

      .parentDiv {
        min-height: 100vh;
        display: grid;
        place-items: center;
        position: relative;
      }

      .wrapper {
        position: relative;
        background-color: #131313;
        overflow: hidden;
        width: 100%;
        max-width: 400px;
        height: 100%;
        max-height: 400px;
        aspect-ratio: 1 / 1;
        transform-origin: center;
      }

      .firstOne {
        width: 100%;
        height: 100%;
        aspect-ratio: 1 / 1;
        position: absolute;
        animation: wrapperInOut 3s linear infinite;
      }

      @keyframes wrapperInOut {
        0% {
          transform: translateY(200px);
        }

        100% {
          transform: translateY(-800px);
        }
      }

      .secondOne {
        width: 100%;
        height: 100%;
        aspect-ratio: 1 / 1;
        position: absolute;
        animation: wrapperInOut 3s linear 1.5s infinite;
      }

      .boxWrap1 {
        height: 400px;
        width: 400px;
        position: absolute;
        top: 50%;
        left: 0%;
        transform: rotateY(0deg);
        transform-style: preserve-3d;
        animation: wrapperRotate 3s ease-out infinite;
        position: relative;
      }

      .boxWrap2 {
        height: 400px;
        width: 400px;
        position: absolute;
        top: 50%;
        left: 0%;
        transform: rotateY(0deg);
        transform-style: preserve-3d;
        animation: wrapperRotate 3s ease-out 1.5s infinite;
        position: relative;
      }

      @keyframes wrapperRotate {
        0% {
          transform: rotateY(0deg);
        }

        100% {
          transform: rotateY(80deg);
        }
      }

      .box {
        border: 1px solid white;
        height: 250px;
        width: 250px;
        position: absolute;
        top: 50%;
        left: 0%;
        transform: translate(0%, -50%);
        transform-style: preserve-3d;
      }

      .b1 {
        transform-origin: center;
        transform: perspective(1000px)
          translateX(calc(var(--distanceInBetween) * -5))
          rotateX(var(--boxRotateAxisX)) rotateY(var(--boxRotateAxisY)) scale(1);
        animation: recToCir1 var(--animationDuration) infinite;
      }
      .b2 {
        transform-origin: center;
        transform: perspective(1000px)
          translateX(calc(var(--distanceInBetween) * -4))
          rotateX(var(--boxRotateAxisX)) rotateY(var(--boxRotateAxisY)) scale(1);
        animation: recToCir2 var(--animationDuration) infinite;
      }
      .b3 {
        transform-origin: center;
        transform: perspective(1000px)
          translateX(calc(var(--distanceInBetween) * -3))
          rotateX(var(--boxRotateAxisX)) rotateY(var(--boxRotateAxisY)) scale(1);
        animation: recToCir3 var(--animationDuration) infinite;
      }
      .b4 {
        transform-origin: center;
        transform: perspective(1000px)
          translateX(calc(var(--distanceInBetween) * -2))
          rotateX(var(--boxRotateAxisX)) rotateY(var(--boxRotateAxisY)) scale(1);
        animation: recToCir4 var(--animationDuration) infinite;
      }
      .b5 {
        transform-origin: center;
        transform: perspective(1000px)
          translateX(calc(var(--distanceInBetween) * -1))
          rotateX(var(--boxRotateAxisX)) rotateY(var(--boxRotateAxisY)) scale(1);
        animation: recToCir5 var(--animationDuration) infinite;
      }
      .b6 {
        transform-origin: center;
        transform: perspective(1000px)
          translateX(calc(var(--distanceInBetween) * 0))
          rotateX(var(--boxRotateAxisX)) rotateY(var(--boxRotateAxisY)) scale(1);
        animation: recToCir6 var(--animationDuration) infinite;
      }
      .b7 {
        transform-origin: center;
        transform: perspective(1000px)
          translateX(calc(var(--distanceInBetween) * 1))
          rotateX(var(--boxRotateAxisX)) rotateY(var(--boxRotateAxisY)) scale(1);
        animation: recToCir7 var(--animationDuration) infinite;
      }
      .b8 {
        transform-origin: center;
        transform: perspective(1000px)
          translateX(calc(var(--distanceInBetween) * 2))
          rotateX(var(--boxRotateAxisX)) rotateY(var(--boxRotateAxisY)) scale(1);
        animation: recToCir8 var(--animationDuration) infinite;
      }
      .b9 {
        transform-origin: center;
        transform: perspective(1000px)
          translateX(calc(var(--distanceInBetween) * 3))
          rotateX(var(--boxRotateAxisX)) rotateY(var(--boxRotateAxisY)) scale(1);
        animation: recToCir9 var(--animationDuration) infinite;
      }
      .b10 {
        transform-origin: center;
        transform: perspective(1000px)
          translateX(calc(var(--distanceInBetween) * 4))
          rotateX(var(--boxRotateAxisX)) rotateY(var(--boxRotateAxisY)) scale(1);
        animation: recToCir10 var(--animationDuration) infinite;
      }
      .b11 {
        transform-origin: center;
        transform: perspective(1000px)
          translateX(calc(var(--distanceInBetween) * 5))
          rotateX(var(--boxRotateAxisX)) rotateY(var(--boxRotateAxisY)) scale(1);
        animation: recToCir11 var(--animationDuration) infinite;
      }
      @keyframes recToCir1 {
        0% {
          border-radius: 0%;
          transform: perspective(1000px)
            translateX(calc(var(--distanceInBetween) * 1))
            rotateX(var(--boxRotateAxisX)) rotateY(var(--boxRotateAxisY))
            scale(1);
        }

        25% {
          border-radius: 0%;
          transform: perspective(1000px)
            translateX(calc(var(--distanceInBetween) * 1))
            rotateX(var(--boxRotateAxisX)) rotateY(var(--boxRotateAxisY))
            scale(1);
        }

        100% {
          border-radius: 50%;
          transform: perspective(1000px)
            translateX(calc(var(--distanceInBetween) * 1))
            rotateX(var(--boxRotateAxisX)) rotateY(var(--boxRotateAxisY))
            scale(0.15);
        }
      }
      @keyframes recToCir2 {
        0% {
          border-radius: 0%;
          transform: perspective(1000px)
            translateX(calc(var(--distanceInBetween) * 2))
            rotateX(var(--boxRotateAxisX)) rotateY(var(--boxRotateAxisY))
            scale(1);
        }

        25% {
          border-radius: 0%;
          transform: perspective(1000px)
            translateX(calc(var(--distanceInBetween) * 2))
            rotateX(var(--boxRotateAxisX)) rotateY(var(--boxRotateAxisY))
            scale(1);
        }

        100% {
          border-radius: 50%;
          transform: perspective(1000px)
            translateX(calc(var(--distanceInBetween) * 2))
            rotateX(var(--boxRotateAxisX)) rotateY(var(--boxRotateAxisY))
            scale(0.3);
        }
      }
      @keyframes recToCir3 {
        0% {
          border-radius: 0%;
          transform: perspective(1000px)
            translateX(calc(var(--distanceInBetween) * 3))
            rotateX(var(--boxRotateAxisX)) rotateY(var(--boxRotateAxisY))
            scale(1);
        }

        25% {
          border-radius: 0%;
          transform: perspective(1000px)
            translateX(calc(var(--distanceInBetween) * 3))
            rotateX(var(--boxRotateAxisX)) rotateY(var(--boxRotateAxisY))
            scale(1);
        }

        100% {
          border-radius: 50%;
          transform: perspective(1000px)
            translateX(calc(var(--distanceInBetween) * 3))
            rotateX(var(--boxRotateAxisX)) rotateY(var(--boxRotateAxisY))
            scale(0.45);
        }
      }
      @keyframes recToCir4 {
        0% {
          border-radius: 0%;
          transform: perspective(1000px)
            translateX(calc(var(--distanceInBetween) * 4))
            rotateX(var(--boxRotateAxisX)) rotateY(var(--boxRotateAxisY))
            scale(1);
        }

        25% {
          border-radius: 0%;
          transform: perspective(1000px)
            translateX(calc(var(--distanceInBetween) * 4))
            rotateX(var(--boxRotateAxisX)) rotateY(var(--boxRotateAxisY))
            scale(1);
        }

        100% {
          border-radius: 50%;
          transform: perspective(1000px)
            translateX(calc(var(--distanceInBetween) * 4))
            rotateX(var(--boxRotateAxisX)) rotateY(var(--boxRotateAxisY))
            scale(0.6);
        }
      }
      @keyframes recToCir5 {
        0% {
          border-radius: 0%;
          transform: perspective(1000px)
            translateX(calc(var(--distanceInBetween) * 5))
            rotateX(var(--boxRotateAxisX)) rotateY(var(--boxRotateAxisY))
            scale(1);
        }

        25% {
          border-radius: 0%;
          transform: perspective(1000px)
            translateX(calc(var(--distanceInBetween) * 5))
            rotateX(var(--boxRotateAxisX)) rotateY(var(--boxRotateAxisY))
            scale(1);
        }

        100% {
          border-radius: 50%;
          transform: perspective(1000px)
            translateX(calc(var(--distanceInBetween) * 5))
            rotateX(var(--boxRotateAxisX)) rotateY(var(--boxRotateAxisY))
            scale(0.75);
        }
      }
      @keyframes recToCir6 {
        0% {
          border-radius: 0%;
          transform: perspective(1000px)
            translateX(calc(var(--distanceInBetween) * 6))
            rotateX(var(--boxRotateAxisX)) rotateY(var(--boxRotateAxisY))
            scale(1);
        }

        25% {
          border-radius: 0%;
          transform: perspective(1000px)
            translateX(calc(var(--distanceInBetween) * 6))
            rotateX(var(--boxRotateAxisX)) rotateY(var(--boxRotateAxisY))
            scale(1);
        }

        100% {
          border-radius: 50%;
          transform: perspective(1000px)
            translateX(calc(var(--distanceInBetween) * 6))
            rotateX(var(--boxRotateAxisX)) rotateY(var(--boxRotateAxisY))
            scale(0.9);
        }
      }
      @keyframes recToCir7 {
        0% {
          border-radius: 0%;
          transform: perspective(1000px)
            translateX(calc(var(--distanceInBetween) * 7))
            rotateX(var(--boxRotateAxisX)) rotateY(var(--boxRotateAxisY))
            scale(1);
        }

        25% {
          border-radius: 0%;
          transform: perspective(1000px)
            translateX(calc(var(--distanceInBetween) * 7))
            rotateX(var(--boxRotateAxisX)) rotateY(var(--boxRotateAxisY))
            scale(1);
        }

        100% {
          border-radius: 50%;
          transform: perspective(1000px)
            translateX(calc(var(--distanceInBetween) * 7))
            rotateX(var(--boxRotateAxisX)) rotateY(var(--boxRotateAxisY))
            scale(0.75);
        }
      }
      @keyframes recToCir8 {
        0% {
          border-radius: 0%;
          transform: perspective(1000px)
            translateX(calc(var(--distanceInBetween) * 8))
            rotateX(var(--boxRotateAxisX)) rotateY(var(--boxRotateAxisY))
            scale(1);
        }

        25% {
          border-radius: 0%;
          transform: perspective(1000px)
            translateX(calc(var(--distanceInBetween) * 8))
            rotateX(var(--boxRotateAxisX)) rotateY(var(--boxRotateAxisY))
            scale(1);
        }

        100% {
          border-radius: 50%;
          transform: perspective(1000px)
            translateX(calc(var(--distanceInBetween) * 8))
            rotateX(var(--boxRotateAxisX)) rotateY(var(--boxRotateAxisY))
            scale(0.6);
        }
      }
      @keyframes recToCir9 {
        0% {
          border-radius: 0%;
          transform: perspective(1000px)
            translateX(calc(var(--distanceInBetween) * 9))
            rotateX(var(--boxRotateAxisX)) rotateY(var(--boxRotateAxisY))
            scale(1);
        }

        25% {
          border-radius: 0%;
          transform: perspective(1000px)
            translateX(calc(var(--distanceInBetween) * 9))
            rotateX(var(--boxRotateAxisX)) rotateY(var(--boxRotateAxisY))
            scale(1);
        }

        100% {
          border-radius: 50%;
          transform: perspective(1000px)
            translateX(calc(var(--distanceInBetween) * 9))
            rotateX(var(--boxRotateAxisX)) rotateY(var(--boxRotateAxisY))
            scale(0.45);
        }
      }
      @keyframes recToCir10 {
        0% {
          border-radius: 0%;
          transform: perspective(1000px)
            translateX(calc(var(--distanceInBetween) * 10))
            rotateX(var(--boxRotateAxisX)) rotateY(var(--boxRotateAxisY))
            scale(1);
        }

        25% {
          border-radius: 0%;
          transform: perspective(1000px)
            translateX(calc(var(--distanceInBetween) * 10))
            rotateX(var(--boxRotateAxisX)) rotateY(var(--boxRotateAxisY))
            scale(1);
        }

        100% {
          border-radius: 50%;
          transform: perspective(1000px)
            translateX(calc(var(--distanceInBetween) * 10))
            rotateX(var(--boxRotateAxisX)) rotateY(var(--boxRotateAxisY))
            scale(0.3);
        }
      }
      @keyframes recToCir11 {
        0% {
          border-radius: 0%;
          transform: perspective(1000px)
            translateX(calc(var(--distanceInBetween) * 11))
            rotateX(var(--boxRotateAxisX)) rotateY(var(--boxRotateAxisY))
            scale(1);
        }

        25% {
          border-radius: 0%;
          transform: perspective(1000px)
            translateX(calc(var(--distanceInBetween) * 11))
            rotateX(var(--boxRotateAxisX)) rotateY(var(--boxRotateAxisY))
            scale(1);
        }

        100% {
          border-radius: 50%;
          transform: perspective(1000px)
            translateX(calc(var(--distanceInBetween) * 11))
            rotateX(var(--boxRotateAxisX)) rotateY(var(--boxRotateAxisY))
            scale(0.15);
        }
      }

      #b1 {
        transform-origin: center;
        transform: perspective(1000px)
          translateX(calc(var(--distanceInBetween) * -5))
          rotateX(var(--boxRotateAxisX)) rotateY(var(--boxRotateAxisY)) scale(1);
        animation: recToCir1 var(--animationDuration) 1.5s infinite;
      }
      #b2 {
        transform-origin: center;
        transform: perspective(1000px)
          translateX(calc(var(--distanceInBetween) * -4))
          rotateX(var(--boxRotateAxisX)) rotateY(var(--boxRotateAxisY)) scale(1);
        animation: recToCir2 var(--animationDuration) 1.5s infinite;
      }
      #b3 {
        transform-origin: center;
        transform: perspective(1000px)
          translateX(calc(var(--distanceInBetween) * -3))
          rotateX(var(--boxRotateAxisX)) rotateY(var(--boxRotateAxisY)) scale(1);
        animation: recToCir3 var(--animationDuration) 1.5s infinite;
      }
      #b4 {
        transform-origin: center;
        transform: perspective(1000px)
          translateX(calc(var(--distanceInBetween) * -2))
          rotateX(var(--boxRotateAxisX)) rotateY(var(--boxRotateAxisY)) scale(1);
        animation: recToCir4 var(--animationDuration) 1.5s infinite;
      }
      #b5 {
        transform-origin: center;
        transform: perspective(1000px)
          translateX(calc(var(--distanceInBetween) * -1))
          rotateX(var(--boxRotateAxisX)) rotateY(var(--boxRotateAxisY)) scale(1);
        animation: recToCir5 var(--animationDuration) 1.5s infinite;
      }
      #b6 {
        transform-origin: center;
        transform: perspective(1000px)
          translateX(calc(var(--distanceInBetween) * 0))
          rotateX(var(--boxRotateAxisX)) rotateY(var(--boxRotateAxisY)) scale(1);
        animation: recToCir6 var(--animationDuration) 1.5s infinite;
      }
      #b7 {
        transform-origin: center;
        transform: perspective(1000px)
          translateX(calc(var(--distanceInBetween) * 1))
          rotateX(var(--boxRotateAxisX)) rotateY(var(--boxRotateAxisY)) scale(1);
        animation: recToCir7 var(--animationDuration) 1.5s infinite;
      }
      #b8 {
        transform-origin: center;
        transform: perspective(1000px)
          translateX(calc(var(--distanceInBetween) * 2))
          rotateX(var(--boxRotateAxisX)) rotateY(var(--boxRotateAxisY)) scale(1);
        animation: recToCir8 var(--animationDuration) 1.5s infinite;
      }
      #b9 {
        transform-origin: center;
        transform: perspective(1000px)
          translateX(calc(var(--distanceInBetween) * 3))
          rotateX(var(--boxRotateAxisX)) rotateY(var(--boxRotateAxisY)) scale(1);
        animation: recToCir9 var(--animationDuration) 1.5s infinite;
      }
      #b10 {
        transform-origin: center;
        transform: perspective(1000px)
          translateX(calc(var(--distanceInBetween) * 4))
          rotateX(var(--boxRotateAxisX)) rotateY(var(--boxRotateAxisY)) scale(1);
        animation: recToCir10 var(--animationDuration) 1.5s infinite;
      }
      #b11 {
        transform-origin: center;
        transform: perspective(1000px)
          translateX(calc(var(--distanceInBetween) * 5))
          rotateX(var(--boxRotateAxisX)) rotateY(var(--boxRotateAxisY)) scale(1);
        animation: recToCir11 var(--animationDuration) 1.5s infinite;
      }
    </style>
  </head>
  <body>
    <div class="parentDiv">
      <div class="wrapper">
        <div class="locomotive">
          <div class="firstOne">
            <div class="boxWrap1">
              <div class="box b1"></div>
              <div class="box b2"></div>
              <div class="box b3"></div>
              <div class="box b4"></div>
              <div class="box b5"></div>
              <div class="box b6"></div>
              <div class="box b7"></div>
              <div class="box b8"></div>
              <div class="box b9"></div>
              <div class="box b10"></div>
              <div class="box b11"></div>
            </div>
          </div>

          <div class="secondOne">
            <div class="boxWrap2">
              <div class="box" id="b1"></div>
              <div class="box" id="b2"></div>
              <div class="box" id="b3"></div>
              <div class="box" id="b4"></div>
              <div class="box" id="b5"></div>
              <div class="box" id="b6"></div>
              <div class="box" id="b7"></div>
              <div class="box" id="b8"></div>
              <div class="box" id="b9"></div>
              <div class="box" id="b10"></div>
              <div class="box" id="b11"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
